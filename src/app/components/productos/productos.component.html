

<!-- Listado de productos -->
<div class="container mx-auto mt-4">
  <div class="row">
    <div class="col-md-4" *ngFor="let producto of productos" class="producto">
      <div class="card" style="width: 18rem;">
        <img src="{{url+'get-imagen/'+producto.imagen}}" *ngIf="producto.imagen" class="card-img-top" alt="...">
        <div class="card-body">
          <h5 class="card-title">{{producto.modelo}}</h5>
          <h6 class="card-subtitle mb-2 text-muted">{{producto.marca}}</h6>
          <p class="card-text">
            <small><strong>RAM:</strong> {{producto.ram}}</small><br>
            <small><strong>ROM:</strong> {{producto.rom}}</small><br>
            <small><strong>Precio:</strong> ${{producto.precio}}</small>
          </p>
          
          <!-- Botones Editar y Borrar -->
          <div class="d-flex gap-2 mb-2">
            <button type="button" class="btn btn-outline-warning flex-grow-1" [routerLink]="['/form', producto._id]">
              Editar
            </button>
            <button type="button" class="btn btn-outline-danger flex-grow-1" (click)="setConfirm(producto._id, true)">
              Borrar
            </button>
          </div>

          <!-- Confirmación de borrado -->
          <div *ngIf="confirmProductoId === producto._id && confirm" class="alert alert-warning p-2">
            <small><strong>¿Está seguro de borrar este {{producto.modelo}}?</strong></small><br>
            <div class="d-flex gap-2 mt-2">
              <button type="button" class="btn btn-sm btn-light flex-grow-1" (click)="setConfirm(producto._id, false)">
                Cancelar
              </button>
              <button type="button" class="btn btn-sm btn-danger flex-grow-1" (click)="borrarProducto(producto._id)">
                Aceptar
              </button>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>
</div>